extends layout

block content
  section#simple

  script#template(type="text/ractive")
    .row
      .columns
        h1 Ny tid

    form
      .row
        .columns
          label Prosjekt
          select(autofocus="{{has_project(false)}}" disabled="{{has_project(true)}}")
            | {{#projects}}
            | {{#.active}}
            option(value="{{._id}}" selected) {{.name}} ({{.client}})
            | {{/.active}}
            | {{^.active}}
            option(value="{{._id}}") {{.name}} ({{.client}})
            | {{/.active}}
            | {{/projects}}
      .row
        .columns.medium-3
          label(for="date") Dato
          input#date(type="date" value="{{date}}" autofocus="{{has_project(true)}}")
        .columns.medium-3.small-4
          label(for="start") Start
          input#start.timepicker(type="time" step="900")
        .columns.medium-3.small-4
          label(for="end") End
          input#end.timepicker(type="time" step="900")
        .columns.medium-3.small-4
          label(for="duration") Duration
          input#duration(type="number" step="0.25" value="{{duration}}")
        .columns
          label(for="comment") Kommentar
          textarea#comment
      .row
        .columns
          button Lagre

block javascript
  script
    | require('s7n').tracker.simple(
    != JSON.stringify(projects)
    | );
